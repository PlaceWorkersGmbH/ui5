jQuery.sap.declare('sap.ui.dt.library-all');if(!jQuery.sap.isDeclared('sap.ui.dt.DesignTimeMetadata')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5/OpenUI5)
 * (c) Copyright 2009-2015 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
jQuery.sap.declare('sap.ui.dt.DesignTimeMetadata');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.base.ManagedObject');sap.ui.define("sap/ui/dt/DesignTimeMetadata",['jquery.sap.global','sap/ui/base/ManagedObject'],function(q,M){"use strict";var D=M.extend("sap.ui.dt.DesignTimeMetadata",{metadata:{library:"sap.ui.dt",properties:{data:{type:"object"}}}});D.prototype.setData=function(d){this.setProperty("data",this._ensureProperties(d));return this;};D.prototype._ensureProperties=function(d){return q.extend(true,{defaultSettings:{},aggregations:{layout:{visible:false}},properties:{},associations:{},events:{},behavior:{constructor:null,resize:{stop:null,grid:null,start:null,minWidth:null,minHeight:null,maxWidth:null,maxHeight:null}},renderer:null,css:null,name:null,description:"",keywords:[],draggable:true,selectable:true,removable:true,resizable:true,visible:true,needDelegateFromParent:false},d);};D.prototype.getName=function(){return this.getData().name;};D.prototype.hasAggregation=function(a){return!!this.getAggregations()[a];};D.prototype.getAggregation=function(a){return this.getAggregations()[a]||{};};D.prototype.getAggregations=function(){return this.getData().aggregations;};D.prototype.isVisible=function(){return this.getData().visible!==false;};D.prototype.isAggregationVisible=function(a){return this.getAggregation(a).visible!==false;};D.prototype.getAggregationDomRef=function(a){return this.getAggregation(a).domRef;};return D;},true);};if(!jQuery.sap.isDeclared('sap.ui.dt.ElementUtil')){jQuery.sap.declare('sap.ui.dt.ElementUtil');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/ui/dt/ElementUtil",['jquery.sap.global'],function(q){"use strict";var E={};E.iterateOverAllPublicAggregations=function(e,c){var a=e.getMetadata().getAllAggregations();if(!a){c();}for(var n in a){var A=a[n];var v=this.getAggregation(e,n);c(A,v);}};E.getElementInstance=function(e){if(typeof e==="string"){return sap.ui.getCore().byId(e);}else{return e;}};E.hasAncestor=function(e,a){var p=e;while(p&&p!==a){p=p.getParent();}return!!p;};E.findAllPublicElements=function(e){var f=[];var t=this;var c=sap.ui.core;function a(e){if(!(e instanceof c.Element)){return;}if(e.getMetadata().getClass()===c.ComponentContainer){a(e.getComponentInstance().getAggregation("rootControl"));}else{f.push(e);t.iterateOverAllPublicAggregations(e,function(A,v){if(v&&v.length){for(var i=0;i<v.length;i++){var o=v[i];a(o);}}else if(v instanceof c.Element){a(v);}});}}a(e);return f;};E.getDomRef=function(e){if(e){var d;if(e.getDomRef){d=e.getDomRef();}if(!d&&e.getRenderedDomRef){d=e.getRenderedDomRef();}return d;}};E.findAllPublicChildren=function(e){var f=this.findAllPublicElements(e);var i=f.indexOf(e);if(i>-1){f.splice(i,1);}return f;};E.isElementFiltered=function(c,t){var a=this;t=t||this.getControlFilter();var f=false;t.forEach(function(T){f=a.isInstanceOf(c,T);if(f){return false;}});return f;};E.getAggregationMutators=function(e,a){var m=e.getMetadata();m.getJSONKeys();var A=m.getAggregation(a);return{get:A._sGetter,add:A._sMutator,remove:A._sRemoveMutator,insert:A._sInsertMutator};};E.getAggregation=function(e,a){var g=this.getAggregationMutators(e,a).get;var v=e[g]();v=v&&v.splice?v:(v?[v]:[]);return v;};E.addAggregation=function(p,a,e){var A=this.getAggregationMutators(p,a).add;p[A](e);};E.removeAggregation=function(p,a,e){var A=this.getAggregationMutators(p,a).remove;p[A](e);};E.insertAggregation=function(p,a,e,i){if(this.getAggregation(p,a).indexOf(e)!==-1){e.__bSapUiDtSupressParentChangeEvent=true;try{this.removeAggregation(p,a,e);}finally{delete e.__bSapUiDtSupressParentChangeEvent;}}var A=this.getAggregationMutators(p,a).insert;p[A](e,i);};E.isValidForAggregation=function(p,a,e){var A=p.getMetadata().getAggregation(a);return this.isInstanceOf(e,A.type);};E.isInstanceOf=function(e,t){var i=q.sap.getObject(t);if(typeof i==="function"){return e instanceof i;}else{return false;}};return E;},true);};if(!jQuery.sap.isDeclared('sap.ui.dt.ManagedObjectObserver')){jQuery.sap.declare('sap.ui.dt.ManagedObjectObserver');jQuery.sap.require('sap.ui.base.ManagedObject');sap.ui.define("sap/ui/dt/ManagedObjectObserver",['sap/ui/base/ManagedObject'],function(M){"use strict";var a=M.extend("sap.ui.dt.ManagedObjectObserver",{metadata:{abstract:true,library:"sap.ui.dt",properties:{},associations:{target:{type:"sap.ui.base.ManagedObject"}},events:{modified:{parameters:{type:"string",value:"any",oldValue:"any",target:"sap.ui.core.Element"}},destroyed:{}}}});a.prototype.init=function(){};a.prototype.exit=function(){var t=this.getTargetInstance();if(t){this.unobserve(t);}};a.prototype.setTarget=function(t){var o=this.getTargetInstance();if(o){this.unobserve(o);}this.setAssociation("target",t);var T=this.getTargetInstance();if(T){this.observe(T);}return this;};a.prototype.observe=function(t){var b=this;t.attachEvent("_change",this.fireModified,this);var o=this._fnOriginalDestroy=t.destroy;var d=false;t.destroy=function(){if(d){return;}b.unobserve(t);o.apply(this,arguments);b.fireDestroyed();};this._fnOriginalBindProperty=t.bindProperty;t.bindProperty=function(){b._fnOriginalBindProperty.apply(this,arguments);b.fireModified();};this._fnOriginalUnBindProperty=t.unbindProperty;t.unbindProperty=function(){b._fnOriginalUnBindProperty.apply(this,arguments);b.fireModified();};this._fnOriginalBindAggregation=t.bindAggregation;t.bindAggregation=function(A){b._fnOriginalBindAggregation.apply(this,arguments);b.fireModified();};this._fnOriginalUnBindAggregation=t.unbindAggregation;t.unbindAggregation=function(A){b._fnOriginalUnBindAggregation.apply(this,arguments);b.fireModified();};this._fnOriginalSetParent=t.setParent;t.setParent=function(p,A,s){var f=false;if(!this._bInSetParent){f=true;this._bInSetParent=true;}var c=this.getParent();b._fnOriginalSetParent.apply(this,arguments);if(f&&!this.__bSapUiDtSupressParentChangeEvent){this._bInSetParent=false;if(c!==p){b.fireModified({type:"setParent",value:p,oldValue:c,target:this});}}return this;};this._fnOriginalAddAggregation=t.addAggregation;t.addAggregation=function(A,O,s){b._fnOriginalAddAggregation.apply(this,arguments);b.fireModified({type:"addAggregation",value:O,target:this});return this;};this._fnOriginalRemoveAggregation=t.removeAggregation;t.removeAggregation=function(A,O,s){b._fnOriginalRemoveAggregation.apply(this,arguments);b.fireModified({type:"removeAggregation",value:O,target:this});return this;};this._fnOriginalInsertAggregation=t.insertAggregation;t.insertAggregation=function(A,O,i,s){b._fnOriginalInsertAggregation.apply(this,arguments);b.fireModified({type:"insertAggregation",value:O,target:this});return this;};this._fnOriginalRemoveAllAggregations=t.removeAllAggregations;t.removeAllAggregations=function(A,s){var r=this.getAggregation(A);b._fnOriginalRemoveAllAggregations.apply(this,arguments);b.fireModified({type:"removeAllAggregations",value:r,target:this});return this;};this._fnOriginalDestroyAggregation=t.destroyAggregation;t.destroyAggregation=function(A,s){var r=this.getAggregation(A);b._fnOriginalDestroyAggregation.apply(this,arguments);b.fireModified({type:"destroyAggregation",value:r,target:this});return this;};};a.prototype.unobserve=function(t){t.destroy=this._fnOriginalDestroy;delete this._fnOriginalDestroy;t.bindProperty=this._fnOriginalBindProperty;delete this._fnOriginalBindProperty;t.unbindProperty=this._fnOriginalUnBindProperty;delete this._fnOriginalUnBindProperty;t.bindAggregation=this._fnOriginalBindAggregation;delete this._fnOriginalBindAggregation;t.unbindAggregation=this._fnOriginalUnBindAggregation;delete this._fnOriginalUnBindAggregation;t.setParent=this._fnOriginalSetParent;delete this._fnOriginalSetParent;t.addAggregation=this._fnOriginalAddAggregation;delete this._fnOriginalAddAggregation;t.removeAggregation=this._fnOriginalRemoveAggregation;delete this._fnOriginalRemoveAggregation;t.insertAggregation=this._fnOriginalInsertAggregation;delete this._fnOriginalInsertAggregation;t.removeAllAggregations=this._fnOriginalRemoveAllAggregations;delete this._fnOriginalRemoveAllAggregations;t.destroyAggregation=this._fnOriginalDestroyAggregation;delete this._fnOriginalDestroyAggregation;t.detachEvent("_change",this.fireModified,this);};a.prototype.getTargetInstance=function(){return sap.ui.getCore().byId(this.getTarget());};return a;},true);};if(!jQuery.sap.isDeclared('sap.ui.dt.OverlayRegistry')){jQuery.sap.declare('sap.ui.dt.OverlayRegistry');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/ui/dt/OverlayRegistry",["sap/ui/core/Element"],function(E){"use strict";var O={};var o={};O.getOverlay=function(e){var i=g(e);return o[i];};O.register=function(e,a){var i=g(e);o[i]=a;};O.deregister=function(e){var i=g(e);delete o[i];};O.hasOverlays=function(){return!jQuery.isEmptyObject(o);};function g(e){return(e instanceof E)?e.getId():e;}return O;},true);};if(!jQuery.sap.isDeclared('sap.ui.dt.OverlayUtil')){jQuery.sap.declare('sap.ui.dt.OverlayUtil');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/ui/dt/OverlayUtil",['jquery.sap.global','sap/ui/dt/OverlayRegistry','sap/ui/dt/ElementUtil'],function(q,O,E){"use strict";var a={};a.getClosestOverlayFor=function(e){var p=e.getParent();var P=O.getOverlay(p);while(p&&!P){p=p.getParent();P=O.getOverlay(p);}return P;};a.getGeometry=function(g){var m,b,c,d;g.forEach(function(e){if(e){if(!m||e.position.left<m){m=e.position.left;}if(!c||e.position.top<c){c=e.position.top;}var r=e.position.left+e.size.width;if(!b||r>b){b=r;}var B=e.position.top+e.size.height;if(!d||B>d){d=B;}}});if(typeof m==="number"){return{size:{width:b-m,height:d-c},position:{left:m,top:c}};}};a.getClosestOverlayForType=function(t,o){while(o&&!E.isInstanceOf(o.getElementInstance(),t)){o=o.getParentOverlay();}return o;};a.getClosestScrollable=function(o){o=o.getParent();while(o&&o.isScrollable&&!o.isScrollable()){o=o.getParent();}return o&&o.isScrollable?o:null;};return a;},true);};if(!jQuery.sap.isDeclared('sap.ui.dt.Plugin')){jQuery.sap.declare('sap.ui.dt.Plugin');jQuery.sap.require('sap.ui.base.ManagedObject');sap.ui.define("sap/ui/dt/Plugin",['sap/ui/base/ManagedObject'],function(M){"use strict";var P=M.extend("sap.ui.dt.Plugin",{metadata:{"abstract":true,library:"sap.ui.dt",properties:{designTime:{type:"sap.ui.dt.DesignTime",multiple:false}},associations:{},events:{}}});P.prototype.init=function(){};P.prototype.exit=function(){this.setDesignTime(null);};P.prototype.setDesignTime=function(d){var o=this.getDesignTime();if(o){this._deregisterOverlays(o);o.detachEvent("overlayCreated",this._onOverlayCreated,this);}if(d){this._registerOverlays(d);d.attachEvent("overlayCreated",this._onOverlayCreated,this);}this.setProperty("designTime",d);return this;};P.prototype._registerOverlays=function(d){if(this.registerOverlay||this.registerAggregationOverlay){var o=d.getOverlays();o.forEach(this._callOverlayRegistrationMethods.bind(this));}};P.prototype._deregisterOverlays=function(d){if(this.deregisterOverlay||this.deregisterAggregationOverlay){var o=d.getOverlays();o.forEach(this._callOverlayDeregestrationMethods.bind(this));}};P.prototype._callOverlayRegistrationMethods=function(o){if(this.registerOverlay){this.registerOverlay(o);}if(this.registerAggregationOverlay){var a=o.getAggregationOverlays();a.forEach(this.registerAggregationOverlay.bind(this));}};P.prototype._callOverlayDeregestrationMethods=function(o){if(this.deregisterOverlay){this.deregisterOverlay(o);}if(this.deregisterAggregationOverlay){var a=o.getAggregationOverlays();a.forEach(this.deregisterAggregationOverlay.bind(this));}};P.prototype._onOverlayCreated=function(e){var o=e.getParameter("overlay");this._callOverlayRegistrationMethods(o);};return P;},true);};if(!jQuery.sap.isDeclared('sap.ui.dt.Preloader')){jQuery.sap.declare('sap.ui.dt.Preloader');jQuery.sap.require('sap.ui.core.Element');sap.ui.define("sap/ui/dt/Preloader",["sap/ui/core/Element"],function(E){"use strict";var P={};P.load=function(e){var q=[];e.forEach(function(v){var o=v;if(typeof o==="string"){o=jQuery.sap.getObject(o);}if(o&&o.getMetadata){var m=o.getMetadata();if(m.loadDesignTime){q.push(m.loadDesignTime());}}});return Promise.all(q);};P.loadLibraries=function(l){var c=[];l.forEach(function(L){var m=jQuery.sap.getObject(L);for(var C in m){if(m.hasOwnProperty(C)){c.push(L+"."+C);}}});return this.load(c);};P.loadAllLibraries=function(){var l=[];var L=sap.ui.getCore().getLoadedLibraries();for(var s in L){if(L.hasOwnProperty(s)){l.push(s);}}return this.loadLibraries(l);};return P;},true);};if(!jQuery.sap.isDeclared('sap.ui.dt.library')){jQuery.sap.declare('sap.ui.dt.library');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.library');sap.ui.define("sap/ui/dt/library",['jquery.sap.global','sap/ui/core/library'],function(q){"use strict";sap.ui.getCore().initLibrary({name:"sap.ui.dt",version:"1.29.1-SNAPSHOT",dependencies:["sap.ui.core"],types:["sap.ui.dt.SelectionMode"],interfaces:[],controls:[],elements:[]});sap.ui.dt.SelectionMode={Multi:"Multi",Single:"Single"};return sap.ui.dt;});};if(!jQuery.sap.isDeclared('sap.ui.dt.plugin.MouseSelection')){jQuery.sap.declare('sap.ui.dt.plugin.MouseSelection');sap.ui.define("sap/ui/dt/plugin/MouseSelection",['sap/ui/dt/Plugin'],function(P){"use strict";var M=P.extend("sap.ui.dt.plugin.MouseSelection",{metadata:{library:"sap.ui.dt",properties:{},associations:{},events:{}}});M.prototype.init=function(){P.prototype.init.apply(this,arguments);this._mEventDelegate={"onclick":this._onClick};};M.prototype.registerOverlay=function(o){o.addEventDelegate(this._mEventDelegate,o);};M.prototype.deregisterOverlay=function(o){o.removeEventDelegate(this._mEventDelegate,o);};M.prototype._onClick=function(e){this.setSelected(!this.getSelected());e.preventDefault();e.stopPropagation();};return M;},true);};if(!jQuery.sap.isDeclared('sap.ui.dt.ControlObserver')){jQuery.sap.declare('sap.ui.dt.ControlObserver');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/ui/dt/ControlObserver",['jquery.sap.global','sap/ui/dt/ManagedObjectObserver'],function(q,M){"use strict";var C=M.extend("sap.ui.dt.ControlObserver",{metadata:{library:"sap.ui.dt",properties:{},associations:{"target":{"type":"sap.ui.core.Control"}},events:{"domChanged":{}}}});C.prototype.init=function(){M.prototype.init.apply(this,arguments);this._fnFireDomChanged=this.fireDomChanged.bind(this);this._oControlDelegate={onAfterRendering:this._onAfterRendering,onBeforeRendering:this._onBeforeRendering};};C.prototype.observe=function(c){M.prototype.observe.apply(this,arguments);q(window).on("resize",this._fnFireDomChanged);this._startMutationObserver();c.addEventDelegate(this._oControlDelegate,this);};C.prototype.unobserve=function(c){M.prototype.unobserve.apply(this,arguments);this._stopMutationObserver();q(window).off("resize",this._fnFireDomChanged);c.removeDelegate(this._oControlDelegate,this);};C.prototype._startMutationObserver=function(){var t=this;var a=window.MutationObserver||window.WebKitMutationObserver;var d=this.getTargetInstance().getDomRef();if(a&&d){this.oMutationObserver=new a(function(m){t.fireDomChanged();});this.oMutationObserver.observe(d,{childList:true,subtree:true,attributes:true});}};C.prototype._stopMutationObserver=function(){if(this.oMutationObserver){this.oMutationObserver.disconnect();this.oMutationObserver=null;}};C.prototype._onBeforeRendering=function(){this._stopMutationObserver();};C.prototype._onAfterRendering=function(){this._startMutationObserver();this.fireDomChanged();};return C;},true);};if(!jQuery.sap.isDeclared('sap.ui.dt.DOMUtil')){jQuery.sap.declare('sap.ui.dt.DOMUtil');jQuery.sap.require('jquery.sap.global');sap.ui.define("sap/ui/dt/DOMUtil",['jquery.sap.global','sap/ui/dt/ElementUtil'],function(q,E){"use strict";var D={};D.getSize=function(d){return{width:d.offsetWidth,height:d.offsetHeight};};D.getOffsetFromParent=function(p,P,s,a){var o={left:p.left,top:p.top};if(P){o.left-=(P.left-(a?a:0));o.top-=(P.top-(s?s:0));}return o;};D.getZIndex=function(d){var z;var e=q(d);if(e.length){z=e.zIndex()||e.css("z-index");}return z;};D.getOverflows=function(d){var o;var e=q(d);if(e.length){o={};o.overflowX=e.css("overflow-x");o.overflowY=e.css("overflow-y");}return o;};D.getGeometry=function(d){if(d){return{domRef:d,size:this.getSize(d),position:q(d).offset()};}};D.syncScroll=function(s,t){var $=q(t);var T=$.scrollTop();var o=$.scrollLeft();var a=q(s);var S=a.scrollTop();var b=a.scrollLeft();if(S!==T){$.scrollTop(S);}if(b!==o){$.scrollLeft(b);}};D.getDomRefForCSSSelector=function(d,c){if(!c){return false;}if(c===":sap-domref"){return d;}if(c.indexOf(":sap-domref")>-1){return document.querySelector(c.replace(":sap-domref","#"+this.getEscapedString(d.id)));}return d?d.querySelector(c):undefined;};D.getEscapedString=function(s){return s.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,'\\$1');};D.setDraggable=function($,v){$.attr("draggable",v);};return D;},true);};if(!jQuery.sap.isDeclared('sap.ui.dt.Selection')){jQuery.sap.declare('sap.ui.dt.Selection');jQuery.sap.require('sap.ui.base.ManagedObject');sap.ui.define("sap/ui/dt/Selection",['sap/ui/base/ManagedObject','./library'],function(M){"use strict";var S=M.extend("sap.ui.dt.Selection",{metadata:{library:"sap.ui.dt",properties:{"mode":{type:"sap.ui.dt.SelectionMode",defaultValue:sap.ui.dt.SelectionMode.Single}},associations:{},aggregations:{},events:{"change":{type:"sap.ui.dt.Overlay[]"}}}});S.prototype.init=function(){this._aSelection=[];};S.prototype.exit=function(){delete this._aSelection;};S.prototype.getSelection=function(){return this._aSelection;};S.prototype.set=function(o,s){if(s){this.add(o);}else{this.remove(o);}};S.prototype.add=function(o){this._syncSelectionWithMode();this._aSelection.push(o);this.fireChange({selection:this.getSelection()});};S.prototype.remove=function(o){this._syncSelectionWithMode();var i=this._aSelection.indexOf(o);if(i!==-1){this._aSelection.splice(i,1);this.fireChange({selection:this.getSelection()});}};S.prototype._isSingleMode=function(){return this.getMode()===sap.ui.dt.SelectionMode.Single;};S.prototype._syncSelectionWithMode=function(){if(this._isSingleMode()){this._aSelection.forEach(function(o){o.setSelected(false,true);});this._aSelection=[];}};return S;},true);};if(!jQuery.sap.isDeclared('sap.ui.dt.plugin.DragDrop')){jQuery.sap.declare('sap.ui.dt.plugin.DragDrop');sap.ui.define("sap/ui/dt/plugin/DragDrop",['sap/ui/dt/Plugin','sap/ui/dt/DOMUtil'],function(P,D){"use strict";var a=P.extend("sap.ui.dt.plugin.DragDrop",{metadata:{abstract:true,library:"sap.ui.dt",properties:{},associations:{},events:{}}});a.prototype.init=function(){P.prototype.init.apply(this,arguments);this._oOverlayDelegate={"onAfterRendering":this._checkDraggable};};a.prototype.registerOverlay=function(o){o.addEventDelegate(this._oOverlayDelegate,this);o.attachEvent("draggableChange",this._onDraggableChange,this);if(o.isDraggable()){o.attachBrowserEvent("dragstart",this._onDragStart,this);o.attachBrowserEvent("dragend",this._onDragEnd,this);o.attachBrowserEvent("drag",this._onDrag,this);}o.attachBrowserEvent("dragover",this._onDragOver,this);o.attachBrowserEvent("dragenter",this._onDragEnter,this);};a.prototype.registerAggregationOverlay=function(A){A.attachDroppableChange(this._onAggregationDroppableChange,this);};a.prototype.deregisterOverlay=function(o){o.removeEventDelegate(this._oOverlayDelegate,this);o.detachBrowserEvent("dragstart",this._onDragStart,this);o.detachBrowserEvent("dragend",this._onDragEnd,this);o.detachBrowserEvent("drag",this._onDrag,this);o.detachBrowserEvent("dragenter",this._onDragEnter,this);};a.prototype.deregisterAggregationOverlay=function(A){A.detachDroppableChange(this._onAggregationDroppableChange,this);};a.prototype.onDraggableChange=function(e){};a.prototype.onDragStart=function(d,e){};a.prototype.onDragEnd=function(d,e){};a.prototype.onDrag=function(d,e){};a.prototype.onDragEnter=function(o,e){};a.prototype.onDragOver=function(o,e){};a.prototype.onAggregationDragEnter=function(A,e){};a.prototype.onAggregationDragOver=function(A,e){};a.prototype.onAggregationDragLeave=function(A,e){};a.prototype.onAggregationDrop=function(A,e){};a.prototype._checkDraggable=function(e){var o=e.srcControl;if(o.isDraggable()){D.setDraggable(o.$(),true);}};a.prototype._onDraggableChange=function(e){var o=e.getSource();if(o.isDraggable()){o.attachBrowserEvent("dragstart",this._onDragStart,this);o.attachBrowserEvent("dragend",this._onDragEnd,this);o.attachBrowserEvent("drag",this._onDrag,this);}else{o.detachBrowserEvent("dragstart",this._onDragStart,this);o.detachBrowserEvent("dragend",this._onDragEnd,this);o.detachBrowserEvent("drag",this._onDrag,this);}this.onDraggableChange(o,e);};a.prototype._onDragStart=function(e){var o=sap.ui.getCore().byId(e.currentTarget.id);this.onDragStart(o,e);e.stopPropagation();};a.prototype._onDragEnd=function(e){var o=sap.ui.getCore().byId(e.currentTarget.id);this.onDragEnd(o,e);e.stopPropagation();};a.prototype._onDrag=function(e){var o=sap.ui.getCore().byId(e.currentTarget.id);this.onDrag(o,e);e.stopPropagation();};a.prototype._onDragEnter=function(e){var o=sap.ui.getCore().byId(e.currentTarget.id);var A=o.getParent();var i=A&&A.isDroppable&&A.isDroppable();if(i){if(!this.onDragEnter(o,e)){e.stopPropagation();}}e.preventDefault();};a.prototype._onDragOver=function(e){var o=sap.ui.getCore().byId(e.currentTarget.id);var A=o.getParent();var i=A&&A.isDroppable&&A.isDroppable();if(i){if(!this.onDragOver(o,e)){e.stopPropagation();}}e.preventDefault();};a.prototype._onAggregationDroppableChange=function(e){var A=e.getSource();var d=e.getParameter("droppable");if(d){this._attachAggregationOverlayEvents(A);}else{this._detachAggregationOverlayEvents(A);}};a.prototype._attachAggregationOverlayEvents=function(A){A.attachBrowserEvent("dragenter",this._onAggregationDragEnter,this);A.attachBrowserEvent("dragover",this._onAggregationDragOver,this);A.attachBrowserEvent("dragleave",this._onAggregationDragLeave,this);A.attachBrowserEvent("drop",this._onAggregationDrop,this);};a.prototype._detachAggregationOverlayEvents=function(A){A.detachBrowserEvent("dragenter",this._onAggregationDragEnter,this);A.detachBrowserEvent("dragover",this._onAggregationDragOver,this);A.detachBrowserEvent("dragleave",this._onAggregationDragLeave,this);A.detachBrowserEvent("drop",this._onAggregationDrop,this);};a.prototype._onAggregationDragEnter=function(e){var A=sap.ui.getCore().byId(e.currentTarget.id);this.onAggregationDragEnter(A,e);e.preventDefault();e.stopPropagation();};a.prototype._onAggregationDragOver=function(e){var A=sap.ui.getCore().byId(e.currentTarget.id);this.onAggregationDragOver(A,e);e.preventDefault();e.stopPropagation();};a.prototype._onAggregationDragLeave=function(e){var A=sap.ui.getCore().byId(e.currentTarget.id);this.onAggregationDragLeave(A,e);e.preventDefault();e.stopPropagation();};a.prototype._onAggregationDrop=function(e){var A=sap.ui.getCore().byId(e.currentTarget.id);this.onAggregationDrop(A,e);e.stopPropagation();};return a;},true);};if(!jQuery.sap.isDeclared('sap.ui.dt.AggregationOverlay')){jQuery.sap.declare('sap.ui.dt.AggregationOverlay');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');sap.ui.define("sap/ui/dt/AggregationOverlay",['jquery.sap.global','sap/ui/core/Control','sap/ui/dt/DOMUtil','sap/ui/dt/ElementUtil','sap/ui/dt/OverlayUtil'],function(q,C,D,E,O){"use strict";var A=C.extend("sap.ui.dt.AggregationOverlay",{metadata:{library:"sap.ui.dt",properties:{aggregationName:{type:"string"},visible:{type:"boolean",defaultValue:true},droppable:{type:"boolean",defaultValue:false}},aggregations:{children:{type:"sap.ui.dt.Overlay",multiple:true}},events:{droppableChange:{parameters:{droppable:"boolean"}}}}});A.prototype.init=function(){this.attachBrowserEvent("scroll",this._onScroll,this);};A.prototype.exit=function(){delete this._oDomRef;delete this._bScrollable;};A.prototype.onAfterRendering=function(){this._oDomRef=this.getDomRef();if(this._oDomRef){this._updateDom();}};A.prototype.getDomRef=function(){return this._oDomRef||C.prototype.getDomRef.apply(this,arguments);};A.prototype.getAssociatedDomRef=function(){var o=this.getParent();var e=this.getElementInstance();var a=this.getAggregationName();var b=E.getDomRef(e);if(b){var d=o.getDesignTimeMetadata();var v=d.getAggregationDomRef(a);if(typeof v==="function"){return v.call(e,a);}else if(typeof v==="string"){return D.getDomRefForCSSSelector(b,v);}}};A.prototype.setDroppable=function(d){if(this.getDroppable()!==d){this.setProperty("droppable",d);this.toggleStyleClass("sapUiDtAggregationOverlayDroppable",d);this.fireDroppableChange({droppable:d});}return this;};A.prototype.applyStyles=function(){var a=this.getGeometry();if(a){var e=this.getParent();var m=e?e.$().offset():null;var p=D.getOffsetFromParent(a.position,m);var z=D.getZIndex(a.domRef);var o=D.getOverflows(a.domRef);var $=this.$();var s=a.size;$.css("width",s.width+"px");$.css("height",s.height+"px");$.css("top",p.top+"px");$.css("left",p.left+"px");if(z){$.css("z-index",z);}if(o){this._bScrollable=true;$.css("overflow-x",o.overflowX);$.css("overflow-y",o.overflowY);}else{this._bScrollable=false;}if(a.domRef&&this._bScrollable){D.syncScroll(a.domRef,this.$());}this.getChildren().forEach(function(b){b.applyStyles();});}};A.prototype.getGeometry=function(){var d=this.getAssociatedDomRef();var g=D.getGeometry(d);if(!g){var c=[];this.getChildren().forEach(function(o){c.push(o.getGeometry());});g=O.getGeometry(c);}return g;};A.prototype._updateDom=function(){var a=this.getGeometry();var p=this.getParent();if(p){if(p.getDomRef){this.$().appendTo(p.getDomRef());}else{this.$().appendTo(p.getRootNode());}}if(a&&this.isVisible()){this.$().show();}else{this.$().hide();}};A.prototype._onScroll=function(){var g=this.getGeometry();var a=g?g.domRef:null;if(a){D.syncScroll(this.$(),a);}};A.prototype.getElementInstance=function(){var e=this.getParent();if(e){return e.getElementInstance();}};A.prototype.isScrollable=function(){return this._bScrollable;};A.prototype.isDroppable=function(){return this.getDroppable();};A.prototype.isVisible=function(){return this.getVisible();};A.prototype.getChildren=function(){return this.getAggregation("children")||[];};return A;},true);};if(!jQuery.sap.isDeclared('sap.ui.dt.AggregationOverlayRenderer')){jQuery.sap.declare('sap.ui.dt.AggregationOverlayRenderer');sap.ui.define("sap/ui/dt/AggregationOverlayRenderer",['sap/ui/dt/DOMUtil'],function(D){"use strict";var A={};A.render=function(r,a){if(a.getDomRef()){a.$().empty();this._triggerOnAfterRenderingWithoutRendering(r,a);return;}r.addClass("sapUiDtAggregationOverlay");r.write("<div");r.writeControlData(a);r.write("data-sap-ui-dt-aggregation='"+a.getAggregationName()+"'");r.writeClasses();r.writeStyles();r.write(">");this._renderChildOverlays(r,a);r.write("</div>");};A._renderChildOverlays=function(r,a){var c=a.getChildren()||[];c.forEach(function(o){r.renderControl(o);});};A._triggerOnAfterRenderingWithoutRendering=function(r,a){r.write("");this._renderChildOverlays(r,a);};return A;},true);};if(!jQuery.sap.isDeclared('sap.ui.dt.Overlay')){jQuery.sap.declare('sap.ui.dt.Overlay');jQuery.sap.require('jquery.sap.global');jQuery.sap.require('sap.ui.core.Control');sap.ui.define("sap/ui/dt/Overlay",['jquery.sap.global','sap/ui/core/Control','sap/ui/dt/ControlObserver','sap/ui/dt/ManagedObjectObserver','sap/ui/dt/DesignTimeMetadata','sap/ui/dt/AggregationOverlay','sap/ui/dt/OverlayRegistry','sap/ui/dt/ElementUtil','sap/ui/dt/OverlayUtil','sap/ui/dt/DOMUtil'],function(q,C,a,M,D,A,O,E,b,c){"use strict";var o="overlay-container";var d;var e=C.extend("sap.ui.dt.Overlay",{metadata:{library:"sap.ui.dt",properties:{visible:{type:"boolean",defaultValue:true},selected:{type:"boolean",defaultValue:false},selectable:{type:"boolean",defaultValue:true},draggable:{type:"boolean",defaultValue:false}},associations:{element:{type:"sap.ui.core.Element"}},aggregations:{_aggregationOverlays:{type:"sap.ui.dt.AggregationOverlay",multiple:true,visibility:"hidden"},designTimeMetadata:{type:"sap.ui.dt.DesignTimeMetadata",multiple:false}},events:{destroyed:{parameters:{}},selectionChange:{parameters:{selected:{type:"boolean"}}},draggableChange:{parameters:{selected:{draggable:"boolean"}}},elementModified:{parameters:{type:"string",value:"any",oldValue:"any",target:"sap.ui.core.Element"}}}}});e.getOverlayContainer=function(){if(!d){d=q("#"+o);if(!d.length){d=q("<div id='"+o+"'></div>").appendTo("body");}}return d.get(0);};e.removeOverlayContainer=function(){if(d){d.remove();}d=null;};e.prototype.init=function(){this._oDefaultDesignTimeMetadata=null;this._addToOverlayContainer();this._bVisible=null;};e.prototype.exit=function(){this._destroyDefaultDesignTimeMetadata();var f=this.getElementInstance();if(f){O.deregister(f);this._unobserve(f);}else{O.deregister(this._elementId);}if(!O.hasOverlays()){e.removeOverlayContainer();}delete this._oDomRef;delete this._bVisible;delete this._elementId;this.fireDestroyed();};e.prototype.onAfterRendering=function(){this._oDomRef=this.getDomRef();if(this._oDomRef){this._updateDom();}};e.prototype.getDomRef=function(){return this._oDomRef||C.prototype.getDomRef.apply(this,arguments);};e.prototype.setElement=function(v){var f=this.getElementInstance();if(f instanceof sap.ui.core.Element){O.deregister(f);this._unobserve(f);}this.destroyAggregation("_aggregationOverlays");this._destroyDefaultDesignTimeMetadata();delete this._elementId;this.setAssociation("element",v);this._createAggregationOverlays();var g=this.getElementInstance();this._elementId=g.getId();O.register(g,this);this._observe(g);var p=b.getClosestOverlayFor(g);if(p){p.sync();}return this;};e.prototype.getVisible=function(){if(this._bVisible===null){return this.getDesignTimeMetadata().isVisible();}else{return this.getProperty("visible");}};e.prototype.setVisible=function(v){this.setProperty("visible",v);this._bVisible=v;return this;};e.prototype.setSelectable=function(s){if(!s){this.setSelected(false);}this.setProperty("selectable",s);return this;};e.prototype.setSelected=function(s,S){if(this.isSelectable()&&s!==this.isSelected()){this.setProperty("selected",s);this.toggleStyleClass("sapUiDtOverlaySelected",s);if(!S){this.fireSelectionChange({selected:s});}}return this;};e.prototype.setDraggable=function(f){if(this.getDraggable()!==f){this.toggleStyleClass("sapUiDtOverlayDraggable",f);this.setProperty("draggable",f);this.fireDraggableChange({draggable:f});}return this;};e.prototype.getDesignTimeMetadata=function(){var f=this.getAggregation("designTimeMetadata");if(!f&&!this._oDefaultDesignTimeMetadata){this._oDefaultDesignTimeMetadata=new D({data:this._getElementDesignTimeMetadata()});}return f||this._oDefaultDesignTimeMetadata;};e.prototype.sync=function(){var t=this;var f=this.getAggregationOverlays();f.forEach(function(g){t._syncAggregationOverlay(g);});};e.prototype.applyStyles=function(){var f=this.getGeometry();if(f){var g=b.getClosestScrollable(this)||this.getParent();var p=(g&&g instanceof A)?g.$().offset():null;var s=(g&&g instanceof A)?g.$().scrollLeft():null;var S=(g&&g instanceof A)?g.$().scrollTop():null;var P=c.getOffsetFromParent(f.position,p,S,s);var z=c.getZIndex(f.domRef);var $=this.$();var m=f.size;$.css("width",m.width+"px");$.css("height",m.height+"px");$.css("top",P.top+"px");$.css("left",P.left+"px");if(z){$.css("z-index",z);}this.getAggregationOverlays().forEach(function(h){h.applyStyles();});}};e.prototype.getGeometry=function(){var f=this.getAssociatedDomRef();var g=c.getGeometry(f);if(!g){var h=[];this.getAggregationOverlays().forEach(function(i){h.push(i.getGeometry());});g=b.getGeometry(h);}return g;};e.prototype._updateDom=function(){var f=this.getGeometry();var p=this.getParent();if(p){if(p.getDomRef){this.$().appendTo(p.getDomRef());}else{this.$().appendTo(e.getOverlayContainer());this.applyStyles();}}if(f&&this.isVisible()){this.$().show();}else{this.$().hide();}};e.prototype._createAggregationOverlays=function(){var f=this.getElementInstance();var g=this.getDesignTimeMetadata();if(f){var t=this;E.iterateOverAllPublicAggregations(f,function(h,i){var s=h.name;var j=new A({aggregationName:s,visible:g.isAggregationVisible(s)});t._syncAggregationOverlay(j);t.addAggregation("_aggregationOverlays",j);});}};e.prototype._destroyDefaultDesignTimeMetadata=function(){if(this._oDefaultDesignTimeMetadata){this._oDefaultDesignTimeMetadata.destroy();this._oDefaultDesignTimeMetadata=null;}};e.prototype._getElementDesignTimeMetadata=function(){var f=this.getElementInstance();return f?f.getMetadata().getDesignTime():{};};e.prototype._observe=function(f){if(f instanceof sap.ui.core.Control){this._oObserver=new a({target:f});this._oObserver.attachDomChanged(this._onElementDomChanged,this);}else{this._oObserver=new M({target:f});}this._oObserver.attachModified(this._onElementModified,this);this._oObserver.attachDestroyed(this._onElementDestroyed,this);};e.prototype._unobserve=function(f){this._oObserver.destroy();};e.prototype._addToOverlayContainer=function(){this.placeAt(e.getOverlayContainer());};e.prototype._syncAggregationOverlay=function(f){var s=f.getAggregationName();var g=E.getAggregation(this.getElementInstance(),s);g.forEach(function(h){var i=O.getOverlay(h);if(i){f.addChild(i);}});};e.prototype._onElementModified=function(f){this.sync();this.invalidate();this.fireElementModified(f.getParameters());};e.prototype._onElementDomChanged=function(){this.invalidate();};e.prototype._onElementDestroyed=function(){this.destroy();};e.prototype.getElementInstance=function(){return sap.ui.getCore().byId(this.getElement());};e.prototype.getAssociatedDomRef=function(){return E.getDomRef(this.getElementInstance());};e.prototype.getAggregationOverlays=function(){return this.getAggregation("_aggregationOverlays")||[];};e.prototype.getAggregationOverlay=function(s){var f=this.getAggregation("_aggregationOverlays").filter(function(g){return g.getAggregationName()===s;});if(f.length){return f[0];}};e.prototype.getParentOverlay=function(){var p=this.getParentAggregationOverlay();if(p){return p.getParent();}};e.prototype.getParentAggregationOverlay=function(){var p=this.getParent();return p instanceof sap.ui.dt.AggregationOverlay?p:null;};e.prototype.isSelected=function(){return this.getSelected();};e.prototype.isSelectable=function(){return this.getSelectable();};e.prototype.isDraggable=function(){return this.getDraggable();};e.prototype.isVisible=function(){return this.getVisible();};return e;},true);};if(!jQuery.sap.isDeclared('sap.ui.dt.OverlayRenderer')){jQuery.sap.declare('sap.ui.dt.OverlayRenderer');sap.ui.define("sap/ui/dt/OverlayRenderer",['sap/ui/dt/AggregationOverlay','sap/ui/dt/DOMUtil'],function(A,D){"use strict";var O={};O.render=function(r,o){if(o.getDomRef()){o.$().empty();this._triggerOnAfterRenderingWithoutRendering(r,o);return;}r.addClass("sapUiDtOverlay");r.write("<div");r.writeControlData(o);r.write("data-sap-ui-dt-for='"+o.getElementInstance().getId()+"'");r.writeClasses();r.writeStyles();r.write(">");this._renderAggregationOverlays(r,o);r.write("</div>");};O._renderAggregationOverlays=function(r,o){var a=o.getAggregationOverlays();a.forEach(function(b){r.renderControl(b);});};O._triggerOnAfterRenderingWithoutRendering=function(r,o){r.write("");this._renderAggregationOverlays(r,o);return;};return O;},true);};if(!jQuery.sap.isDeclared('sap.ui.dt.plugin.ControlDragDrop')){jQuery.sap.declare('sap.ui.dt.plugin.ControlDragDrop');sap.ui.define("sap/ui/dt/plugin/ControlDragDrop",['sap/ui/dt/plugin/DragDrop','sap/ui/dt/ElementUtil'],function(D,E){"use strict";var C=D.extend("sap.ui.dt.plugin.ControlDragDrop",{metadata:{library:"sap.ui.dt",properties:{draggableTypes:{type:"string[]",defaultValue:["sap.ui.core.Element"]}},associations:{},events:{}}});C.prototype.registerOverlay=function(o){D.prototype.registerOverlay.apply(this,arguments);var e=o.getElementInstance();if(this.isDraggableType(e)&&this.checkDraggable(o)){o.setDraggable(true);}if(this.oDraggedElement){this._activateValidDroppablesFor(o);}};C.prototype._getDraggableTypes=function(){return this.getProperty("draggableTypes")||[];};C.prototype.isDraggableType=function(e){var d=this._getDraggableTypes();return d.some(function(t){return E.isInstanceOf(e,t);});};C.prototype.checkDraggable=function(o){return true;};C.prototype.deregisterOverlay=function(o){D.prototype.deregisterOverlay.apply(this,arguments);o.setDraggable(false);if(this.oDraggedElement){this._deactivateDroppablesFor(o);}};C.prototype.onDragStart=function(o,e){delete this._previousTarget;this._oDraggedOverlay=o;this._activateAllValidDroppables();var g=o.getAssociatedDomRef();if(g&&e&&e.originalEvent&&e.originalEvent.dataTransfer){e.originalEvent.dataTransfer.setDragImage(g,0,0);}};C.prototype.getDraggedOverlay=function(o){return this._oDraggedOverlay;};C.prototype.onDragEnd=function(o){this._deactivateAllDroppables();delete this._oDraggedOverlay;};C.prototype.onDragEnter=function(t,e){if(t.getElementInstance()!==this._oDraggedOverlay.getElementInstance()&&t.getDomRef().outerHTML!==this._previousTarget){this._previousTarget=t.getDomRef().outerHTML;this._repositionOn(t);}};C.prototype.onAggregationDragEnter=function(a){delete this._previousTarget;var p=a.getElementInstance();var d=this._oDraggedOverlay.getElementInstance();var P=this._oDraggedOverlay.getParentOverlay();if(p!==P.getElementInstance()){var A=a.getAggregationName();E.addAggregation(p,A,d);}};C.prototype._activateAllValidDroppables=function(){this._iterateAllAggregations(this._activateValidDroppable.bind(this));};C.prototype._activateValidDroppable=function(a){if(this.checkDroppable(a)){a.setDroppable(true);}};C.prototype.checkDroppable=function(a){var p=a.getElementInstance();var d=this._oDraggedOverlay.getElementInstance();var A=a.getAggregationName();if(E.isValidForAggregation(p,A,d)){return true;}};C.prototype._deactivateDroppable=function(a){a.setDroppable(false);};C.prototype._activateValidDroppablesFor=function(o){this._iterateOverlayAggregations(o,this._activateValidDroppable.bind(this));};C.prototype._deactivateDroppablesFor=function(o){this._iterateOverlayAggregations(o,this._deactivateDroppable.bind(this));};C.prototype._deactivateAllDroppables=function(){this._iterateAllAggregations(function(a){a.setDroppable(false);});};C.prototype._iterateAllAggregations=function(s){var t=this;var d=E.getElementInstance(this.getDesignTime());var o=d.getOverlays();o.forEach(function(O){t._iterateOverlayAggregations(O,s);});};C.prototype._iterateOverlayAggregations=function(o,s){var a=o.getAggregationOverlays();a.forEach(function(A){s(A);});};C.prototype._repositionOn=function(t){var d=this._oDraggedOverlay.getElementInstance();var T=t.getElementInstance();var p=t.getParentOverlay().getElementInstance();var P=t.getParentAggregationOverlay().getAggregationName();var c=E.getAggregation(p,P);var i=c.indexOf(T);if(i!==-1){E.insertAggregation(p,P,d,i);}};return C;},true);};if(!jQuery.sap.isDeclared('sap.ui.dt.DesignTime')){jQuery.sap.declare('sap.ui.dt.DesignTime');jQuery.sap.require('sap.ui.base.ManagedObject');sap.ui.define("sap/ui/dt/DesignTime",['sap/ui/base/ManagedObject','sap/ui/dt/Overlay','sap/ui/dt/OverlayRegistry','sap/ui/dt/Selection','sap/ui/dt/ElementUtil','./library'],function(M,O,a,S,E){"use strict";var D=M.extend("sap.ui.dt.DesignTime",{metadata:{library:"sap.ui.dt",properties:{selectionMode:{type:"sap.ui.dt.SelectionMode",defaultValue:sap.ui.dt.SelectionMode.Single}},associations:{rootElements:{type:"sap.ui.core.Element",multiple:true}},aggregations:{plugins:{type:"sap.ui.dt.Plugin",multiple:true}},events:{overlayCreated:{overlay:"sap.ui.dt.Overlay"},selectionChange:{type:"sap.ui.dt.Overlay[]"}}}});D.prototype.init=function(){this._oSelection=this.createSelection();this._oSelection.attachEvent("change",this.fireSelectionChange,this);};D.prototype.exit=function(){this._destroyAllOverlays();this._oSelection.destroy();};D.prototype.createSelection=function(){return new S();};D.prototype.getSelection=function(){return this._oSelection.getSelection();};D.prototype.setSelectionMode=function(m){this.setProperty("selectionMode",m);this._oSelection.setMode(m);return this;};D.prototype.getPlugins=function(){return this.getAggregation("plugins")||[];};D.prototype.addPlugin=function(p){p.setDesignTime(this);this.addAggregation("plugins",p);return this;};D.prototype.insertPlugin=function(p,i){p.setDesignTime(this);this.insertAggregation("plugins",p,i);return this;};D.prototype.removePlugin=function(p){this.getPlugins().forEach(function(c){if(c===p){p.setDesignTime(null);return;}});this.removeAggregation("plugins",p);return this;};D.prototype.removeAllPlugins=function(){this.getPlugins().forEach(function(p){p.setDesignTime(null);});this.removeAllAggregation("plugins");return this;};D.prototype.getRootElements=function(){return this.getAssociation("rootElements")||[];};D.prototype.addRootElement=function(r){this.addAssociation("rootElements",r);this._createOverlaysForElement(E.getElementInstance(r));return this;};D.prototype.removeRootElement=function(r){this.removeAssociation("rootElements",r);this._destroyOverlaysForElement(E.getElementInstance(r));return this;};D.prototype.removeAllRootElement=function(){this.removeAssociation("rootElements");this._destroyAllOverlays();return this;};D.prototype.createOverlay=function(e){return new O({element:e});};D.prototype.getOverlays=function(){var o=[];this._iterateAllElements(function(e){var b=a.getOverlay(e);if(b){if(o.indexOf(b)===-1){o.push(b);}}});return o;};D.prototype._createOverlay=function(e){if(!a.getOverlay(e)){var o=this.createOverlay(e);o.attachEvent("elementModified",this._onElementModified,this);o.attachEvent("destroyed",this._onOverlayDestroyed,this);o.attachEvent("selectionChange",this._onOverlaySelectionChange,this);this.fireOverlayCreated({overlay:o});}};D.prototype._createOverlaysForElement=function(r){var t=this;this._iterateRootElementPublicChildren(r,function(e){t._createOverlay(e);});};D.prototype._destroyOverlaysForElement=function(r){this._iterateRootElementPublicChildren(r,function(e){var o=a.getOverlay(e);if(o){o.destroy();}});};D.prototype._destroyAllOverlays=function(){var t=this;this._iterateRootElements(function(r){t._destroyOverlaysForElement(r);});};D.prototype._onOverlayDestroyed=function(e){var o=e.getSource();this._oSelection.remove(o);};D.prototype._onOverlaySelectionChange=function(e){var o=e.getSource();var s=e.getParameter("selected");this._oSelection.set(o,s);};D.prototype._onElementModified=function(e){var p=e.getParameters();if(p.type==="addAggregation"||p.type==="insertAggregation"){this._onOverlayElementAddAggregation(p.value);}else if(p.type==="setParent"){this._onOverlayElementSetParent(p.target,p.value);}};D.prototype._onOverlayElementAddAggregation=function(e){var o=a.getOverlay(e);if(!o){this._createOverlaysForElement(e);}};D.prototype._onOverlayElementSetParent=function(e,p){var o=a.getOverlay(e);if(o&&!this._isElementInRootElements(e)){o.destroy();}};D.prototype._isElementInRootElements=function(e){var f=false;this._iterateRootElements(function(r){if(E.hasAncestor(e,r)){f=true;return false;}});return f;};D.prototype._iterateRootElements=function(s){var r=this.getRootElements();r.forEach(function(R){var o=E.getElementInstance(R);s(o);});};D.prototype._iterateRootElementPublicChildren=function(r,s){var A=E.findAllPublicElements(r);A.forEach(function(e){s(e);});};D.prototype._iterateAllElements=function(s){var t=this;this._iterateRootElements(function(r){t._iterateRootElementPublicChildren(r,s);});};return D;},true);};
